<!DOCTYPE html>
<html lang="en">
<head>
    <!-- basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <!-- site metas -->
    <title>S…ôb…ôt</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- bootstrap css -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- style css -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Responsive-->
    <link rel="stylesheet" href="css/responsive.css">
    <!-- fevicon -->
    <link rel="icon" href="images/fevicon.png" type="image/gif" />
    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
    <!-- Tweaks for older IEs-->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
    <style>
        /* Add custom styles for the modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .cart-item {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .cart-item img {
            width: 50px;
            height: 50px;
            margin-right: 15px;
        }

        .cart-item-details {
            flex: 1;
        }

        .quantity-btn {
            font-size: 18px;
            background-color: #ddd;
            border: none;
            padding: 5px;
            cursor: pointer;
            width: 30px;
            height: 30px;
            text-align: center;
        }

        .quantity-btn:hover {
            background-color: #bbb;
        }

        .quantity-input {
            width: 40px;
            text-align: center;
            font-size: 16px;
            border: 1px solid #ddd;
            padding: 5px;
        }

        .cart-total {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
        }

        .back-btn {
            font-size: 16px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .back-btn:hover {
            opacity: 0.8;
        }

        .green-btn {
            background-color: #28a745;
            font-size: 18px;
            color: white;
            border: none;
            padding: 10px 25px;
            cursor: pointer;
            border-radius: 5px;
            font-weight: bold;
        }

        .green-btn:hover {
            opacity: 0.8;
        }
        @media (max-width: 767px) {
    .green-btn {
        padding: 10px 20px; /* Adjust padding to make the button more compact */
        font-size: 14px; /* Smaller font size */
        width: auto; /* Let the button size adjust based on content */
        display: inline-block; /* Ensure buttons don't take up the entire width */
        margin: 5px 0; /* Add some space between the buttons */
        border-radius: 5px; /* Optional: Make the button corners rounded */
    }
}

            .cart-item {
                flex-direction: column; /* Stack the items vertically */
                align-items: flex-start;
                padding: 15px;
            }

            .cart-item img {
                width: 40px;
                height: 40px; /* Adjust the image size for better mobile experience */
            }

            .modal-content {
                width: 90%; /* Make the modal width responsive */
                padding: 15px;
            }

            .quantity-btn {
                width: 25px;
                height: 25px; /* Smaller buttons for mobile */
            }

            .quantity-input {
                width: 30px;
                font-size: 14px; /* Adjust input field size */
            }
        

        /* Ensure the modal content is centered on mobile */
        @media (max-width: 767px) {
            .modal-content {
                margin: 10% auto;
                padding: 15px;
            }
        }
    </style>
</head>
<body class="main-layout product_page">
<!-- loader -->
<div class="loader_bg">
    <div class="loader"><img src="images/loading.gif" alt="#" /></div>
</div>
<!-- end loader -->
<!-- header -->
<header>
    <div class="header">
        <div class="head_top">
            <div class="container">
                <div class="row">
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
                        <div class="top-box">
                            <ul class="sociel_link">
                                <li> <a href="https://www.instagram.com/amperelektron_baku/"><i class="fa fa-instagram"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
                        <div class="top-box">
                            <p>Amper Elektron</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col logo_section">
                <div class="full">
                    <div class="center-desk">
                        <div class="logo"> <a href="index.html"><img src="images/logoo.jpg" alt="logo"/></a> </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-7 col-lg-7 col-md-9 col-sm-9">
                <div class="menu-area">
                    <div class="limit-box">
                        <nav class="main-menu">
                            <ul class="menu-area-main">
                                <li> <a href="index.html">∆èsas</a> </li>
                                <li> <a href="about.html">Haqqƒ±mƒ±zda</a> </li>
                                <li> <a href="product.html">M…ôhsullar</a></li>
                                <li class="active"> <a href="sebet.html">S…ôb…ôt</a> </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
            <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2"></div>
        </div>
    </div>
</header>
<!-- end header -->
<div class="brand_color">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="titlepage">
                    <h2>Se√ßdiyiniz M…ôhsullar</h2>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Cart Table -->
<div class="product">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div id="cartItems"></div>
                <p id="totalPrice" class="cart-total">C…ômi: 0‚Çº</p>
                <button onclick="clearCart()" class="green-btn">S…ôb…ôti T…ômizl…ô</button>
                <button onclick="openModal()" class="green-btn">S…ôb…ôti T…ôsdiql…ô</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for User Info -->
<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h3>S…ôb…ôti T…ôsdiqle</h3>
        <form id="orderForm" action="https://formsubmit.co/5517a9bd39f42ffb03a27ac54fa047e8" method="POST" onsubmit="submitOrder(event)">
            <input type="text" name="Ad" placeholder="Ad" required><br><br>
            <input type="text" name="Soyad" placeholder="Soyad" required><br><br>
            <input type="text" name="Mobil N√∂mr…ô" placeholder="Mobil N√∂mr…ô" required><br><br>
            <textarea name="cartDetails" style="display:none;"></textarea>
            <textarea name="totalPrice" style="display:none;"></textarea>
            <!-- Hidden fields for Formsubmit -->
            <input type="hidden" name="_next" value="https://yourwebsite.com/thank-you.html"> <!-- Add your thank-you page URL -->
            <input type="hidden" name="_subject" value="Yeni Sifari≈ü Alƒ±ndƒ±"> <!-- Customize the email subject -->
            <input type="submit" value="G√∂nd…ôr" class="green-btn">
        </form>
    </div>
</div>

<!-- footer -->
<footer>
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6 offset-md-3">
                    <ul class="sociel">
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                    <div class="contact">
                        <h3>∆èlaq…ô M…ôlumatlarƒ±</h3>
                        <ul class="lik">
                            <li> <a href="#">üìû +994 55 698 37 41</a></li>
                            <li> <a href="#">üìû +994 70 800 34 76</a></li>
                            <li> <a href="#">amperelektron_baku</a></li>
                            <li> <a href="#">B…ôxtiyar Vahazad…ô 32C</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>2025 B√ºt√ºn h√ºquqlar qorunur.</p>
            </div>
        </div>
    </div>
</footer>
<!-- end footer -->

<script src="js/jquery.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/jquery-3.0.0.min.js"></script>
<script src="js/plugin.js"></script>
<script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="js/custom.js"></script>

<script>
    function loadCart() {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let cartItemsDiv = document.getElementById('cartItems');
        let totalPrice = 0;

        if (cart.length === 0) {
            cartItemsDiv.innerHTML = "<p>S…ôb…ôtiniz bo≈üdur</p>";
        } else {
            cartItemsDiv.innerHTML = cart.map((item, index) => {
                totalPrice += item.price * item.quantity;
                return `
                    <div class="cart-item">
                        <img src="icon/${item.name}.png" alt="${item.name}">
                        <div class="cart-item-details">
                            <h4>${item.name}</h4>
                            <p>Sayƒ±: ${item.quantity}</p>
                            <p>Qiym…ôt: ${item.price}‚Çº</p>
                        </div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="updateQuantity(${index}, 'decrease')">-</button>
                            <input type="text" class="quantity-input" value="${item.quantity}" readonly>
                            <button class="quantity-btn" onclick="updateQuantity(${index}, 'increase')">+</button>
                        </div>
                        <button class="back-btn" onclick="removeItem(${index})">Sil</button>
                    </div>
                `;
            }).join('');
        }

        // Display total price
        document.getElementById('totalPrice').textContent = `C…ômi: ${totalPrice.toFixed(2)}‚Çº`;
    }

    // Update item quantity
    function updateQuantity(index, action) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let item = cart[index];
        let currentQuantity = item.quantity;

        if (action === 'increase') {
            currentQuantity++;
        } else if (action === 'decrease' && currentQuantity > 1) {
            currentQuantity--;
        }

        cart[index].quantity = currentQuantity;
        localStorage.setItem('cart', JSON.stringify(cart));
        loadCart();  // Reload the cart to update the total price
    }

    function removeItem(index) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart.splice(index, 1);
        localStorage.setItem('cart', JSON.stringify(cart));
        loadCart();  // Reload the cart to update the total price
    }

    function openModal() {
        document.getElementById('myModal').style.display = "block";
    }

    function closeModal() {
        document.getElementById('myModal').style.display = "none";
    }

    function submitOrder(event) {
    event.preventDefault();  // Prevent default form submission

    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let cartDetails = cart.map(item => `${item.name}: ${item.quantity} …ôd…ôd x ${item.price}‚Çº`).join("\n");
    let totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

    // Prepare the data to be sent
    let orderData = new FormData(event.target);
    orderData.append('cartDetails', cartDetails);
    orderData.append('totalPrice', totalPrice);

    // Use fetch() to send the form data asynchronously
    fetch('https://formsubmit.co/omrmmmdli736@gmail.com', {
        method: 'POST',
        body: orderData
    })
    .then(response => response.json())
    .then(data => {
        alert('Sifari≈ü g√∂nd…ôrildi!');
        localStorage.removeItem('cart');  // Clear the cart after successful order
        loadCart();  // Reload the cart (it will now be empty)
        closeModal();  // Close the modal
    })
    .catch(error => {
        alert('Sifari≈ü g√∂nd…ôrilm…ôdi, xahi≈ü olunur yenid…ôn c…ôhd edin.');
        console.error('Error submitting order:', error);
    });
}
function clearCart() {
    localStorage.removeItem('cart');  // Removes the cart from localStorage
    alert("S…ôb…ôt t…ômizl…ôndi!");  // Optional: Shows an alert to notify the user
    loadCart();  // Reloads the cart to update the page
}


    window.onload = loadCart;
</script>
</body>
</html>
